# EdgeOne Webhook Pusher

åŸºäºè…¾è®¯äº‘ EdgeOne Edge Functions æ„å»ºçš„ Serverless Webhook æ¨é€æœåŠ¡ï¼Œæ”¯æŒå¤šæ¸ é“æ¶ˆæ¯é€šçŸ¥ï¼Œå…·å¤‡è¾¹ç¼˜åŸç”Ÿçš„ä½å»¶è¿Ÿæ€§èƒ½ã€‚

## ç‰¹æ€§

- ğŸš€ **è¾¹ç¼˜åŸç”Ÿ** - åŸºäº EdgeOne Edge Functionsï¼Œå…¨çƒä½å»¶è¿Ÿ
- ğŸ“± **å¤šæ¸ é“æ”¯æŒ** - å¾®ä¿¡æ¨¡æ¿æ¶ˆæ¯ï¼ˆæ›´å¤šæ¸ é“å³å°†æ”¯æŒï¼‰
- ğŸ”‘ **ç®€å• API** - ä¸€ä¸ª URL å³å¯æ¨é€ï¼š`/{sendKey}.send?title=xxx`
- ğŸ’¾ **æŒä¹…åŒ–å­˜å‚¨** - EdgeOne KV å­˜å‚¨ï¼Œæ•°æ®å®‰å…¨å¯é 
- ğŸ›ï¸ **Web æ§åˆ¶å°** - Nuxt 4 + TDesign æ„å»ºçš„ç®¡ç†ç•Œé¢
- ğŸ†“ **å…è´¹é¢åº¦** - å®Œå…¨è¿è¡Œåœ¨ EdgeOne å…è´¹é¢åº¦å†…

## æ”¯æŒçš„æ¸ é“

### å½“å‰ç‰ˆæœ¬ (v1.0)
- âœ… å¾®ä¿¡æ¨¡æ¿æ¶ˆæ¯

### è®¡åˆ’ä¸­
- â³ ä¼ä¸šå¾®ä¿¡
- â³ é’‰é’‰
- â³ é£ä¹¦
- â³ Telegram
- â³ Bark (iOS)
- â³ è‡ªå®šä¹‰ Webhook

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EdgeOne Pages                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Nuxt 4    â”‚  â”‚    Node     â”‚  â”‚   Edge Functions    â”‚  â”‚
â”‚  â”‚   Console   â”‚â”€â”€â”‚  Functions  â”‚â”€â”€â”‚    (KV Layer)       â”‚  â”‚
â”‚  â”‚  (Frontend) â”‚  â”‚   (Koa)     â”‚  â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                    â”‚             â”‚
â”‚                          â–¼                    â–¼             â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                   â”‚   Channel   â”‚      â”‚  EdgeOne  â”‚        â”‚
â”‚                   â”‚  Adapters   â”‚      â”‚    KV     â”‚        â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20+
- pnpm 9+ï¼ˆå¿…é¡»ä½¿ç”¨ pnpmï¼‰
- EdgeOne CLI (`pnpm add -g edgeone`)

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ixNieStudio/edgeone-webhook-pusher.git
cd edgeone-webhook-pusher

# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºæ‰€æœ‰åŒ…
pnpm build
```

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨
pnpm dev

# è¿è¡Œæµ‹è¯•
pnpm test
```

### éƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# éƒ¨ç½²åˆ° EdgeOne Pages
pnpm deploy
```

## ä½¿ç”¨æ–¹æ³•

### å‘é€æ¨é€é€šçŸ¥

```bash
# GET è¯·æ±‚
curl "https://your-domain.com/{sendKey}.send?title=Hello&desp=World"

# POST JSON
curl -X POST "https://your-domain.com/{sendKey}.send" \
  -H "Content-Type: application/json" \
  -d '{"title": "Hello", "desp": "World"}'

# POST Form
curl -X POST "https://your-domain.com/{sendKey}.send" \
  -d "title=Hello&desp=World"
```

### API å‚è€ƒ

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/{sendKey}.send` | GET/POST | å‘é€æ¨é€é€šçŸ¥ |
| `/api/channels` | GET/POST | æ¸ é“åˆ—è¡¨/æ·»åŠ  |
| `/api/channels/{id}` | GET/PUT/DELETE | æ¸ é“ CRUD |
| `/api/messages` | GET | æ¶ˆæ¯å†å² |
| `/api/messages/{id}` | GET | æ¶ˆæ¯è¯¦æƒ… |
| `/api/user` | GET | è·å–ç”¨æˆ·ä¿¡æ¯ |
| `/api/user/regenerate` | POST | é‡æ–°ç”Ÿæˆ SendKey |

## é¡¹ç›®ç»“æ„

```
edgeone-webhook-pusher/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/           # å…±äº«ç±»å‹å’Œæ¸ é“é€‚é…å™¨
â”‚   â”œâ”€â”€ edge-functions/   # Edge Functions (KV æŒä¹…åŒ–å±‚)
â”‚   â”œâ”€â”€ node-functions/   # Node Functions (Koa åç«¯)
â”‚   â””â”€â”€ console/          # Nuxt 4 Web æ§åˆ¶å°
â”œâ”€â”€ .output/public/       # æ„å»ºè¾“å‡ºï¼ˆéƒ¨ç½²åˆ° EdgeOneï¼‰
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ edge-functions/
â”‚   â””â”€â”€ node-functions/
â””â”€â”€ ...
```

## æŠ€æœ¯æ ˆ

- **Monorepo**: pnpm workspaces + Turborepo
- **è¯­è¨€**: TypeScript
- **å‰ç«¯**: Nuxt 4 + TDesign Vue Next
- **åç«¯**: Koa.js (Node Functions)
- **æŒä¹…åŒ–**: EdgeOne KV Storage (Edge Functions)
- **æµ‹è¯•**: Vitest + fast-check

## è®¸å¯è¯

MIT
